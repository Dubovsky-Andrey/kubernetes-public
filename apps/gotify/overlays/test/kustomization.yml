apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

namespace: test

resources:
  - ../../base

secretGenerator:
  - name: gotify-secret
    envs:
      - secret.env
    behavior: merge

configMapGenerator:
  - name: gotify-config
    envs:
      - config.env
    behavior: merge

patches:
  - target:
      group: ""
      version: v1
      kind: Service
      name: gotify
    path: service-patch.yml

  - target:
      group: ""
      version: v1
      kind: PersistentVolume
      name: gotify-pv
    path: pv-patch.yml

generatorOptions:
  disableNameSuffixHash: true
